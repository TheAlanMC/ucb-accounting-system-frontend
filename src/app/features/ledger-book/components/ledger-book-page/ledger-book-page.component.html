<app-sidebar (navbarToggle)="onNavbarToggle($event)"></app-sidebar>
<div class="home-section" [class.navbar-opened]="isNavbarOpen">
  <div class="card">
    <p-toast></p-toast>
    <div class="flex card-container overflow-hidden">
      <div class="page-title flex-grow-1  flex align-items-center justify-content-start font-bold m-2 px-5 py-0">
        <i class="pi pi-file"
           style="color: var(--color-green); font-size: 2.5rem; z-index: 2 !important;"></i>
        <p class="text-2xl md:text-3xl" style="z-index:2;">&nbsp;&nbsp;&nbsp;Libro mayor</p>
      </div>
      <div class="flex-none flex align-items-center justify-content-center font-bold m-2 px-5 py-3">
        <app-navbar></app-navbar>
      </div>
    </div>
    <div class="flex justify-content-between">
      <div class="flex flex-column card-container mx-8">
        <div class="flex flex-row flex-wrap align-items-center"> 
          <i class="pi pi-angle-left pass-icon mr-3" style="font-size: 1.3rem" pTooltip="Anterior cuenta" tooltipPosition="left" [showDelay]="800" [hideDelay]="800"></i>
          <p id="account-name">{{transaction.subaccount.subaccountName}}</p>
          <i class="pi pi-angle-right pass-icon mx-3" style="font-size: 1.3rem" pTooltip="Siguiente cuenta" tooltipPosition="right" [showDelay]="800" [hideDelay]="800"></i>
        </div>
      </div>
      <div class="flex flex-column card-container mx-8">
        <div class="flex flex-row flex-wrap align-items-center mt-4">
          <div style="border: 1px solid #B1B1B1; border-radius: 50%; height: 20px; width: 20px; display:flex; justify-content: center; align-items: center;">
            <i class="pi pi-dollar" style="font-size: 0.8rem; text-align: center; color: #B1B1B1;"></i>
          </div>
          <p class="ml-2" style="color: #666666 ;"> SALDO FINAL</p>
        </div>
        <p class="text-right font-semibold text-base my-2">Bs. {{saldoFinal}}</p>
        <div>
          <hr>
        </div>
      </div>
    </div>
  </div>
  <div class="col-12 xl:col-12 px-8 py-3">
    <p-table [value]="transaction.transactionDetails" [tableStyle]="{ 'min-width': '50rem' }">
      <ng-template pTemplate="header">
        <tr>
          <th>Fecha</th>
          <th>Tipo</th>
          <th>Referencia</th>
          <th>Debe</th>
          <th>Haber</th>
          <th>Saldo</th>
          <th>Notas</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-transaction>
        <tr>
          <td>{{ transaction.transactionDate }}</td>
          <td>{{ transaction.name }}</td>
          <td>{{ transaction.gloss }}</td>
          <td>{{ transaction.debitAmount }}</td>
          <td>{{ transaction.creditAmount }}</td>
          <td>{{ transaction.balanceAmount }}</td>
          <td>{{ transaction.description }}</td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
